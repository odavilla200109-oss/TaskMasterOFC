/* ─────────────────────────────────────────────
   TaskMaster CSS v3.0
   Fonts: Syne (headings) + DM Sans (body)
   ───────────────────────────────────────────── */

@import url('https://fonts.googleapis.com/css2?family=Syne:wght@400;600;700;800;900&family=DM+Sans:ital,opsz,wght@0,9..40,300;0,9..40,400;0,9..40,500;0,9..40,600;0,9..40,700;1,9..40,400&display=swap');

/* ── Reset ── */
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

html, body, #root {
  width: 100%;
  height: 100%;
  font-family: 'DM Sans', system-ui, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* ── CSS Variables (light default) ── */
:root {
  --bg-card:    rgba(255,255,255,0.97);
  --bg-glass:   rgba(255,255,255,0.76);
  --border:     rgba(16,185,129,0.18);
  --text-main:  #064e3b;
  --text-sub:   #065f46;
  --text-muted: #9ca3af;
  --node-bg:    rgba(255,255,255,0.97);
  --node-shadow: 0 4px 20px rgba(16,185,129,0.14), 0 1px 4px rgba(0,0,0,0.05);
}

/* ── Scrollbar ── */
::-webkit-scrollbar { width: 5px; height: 5px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: rgba(16,185,129,0.25); border-radius: 4px; }
::-webkit-scrollbar-thumb:hover { background: rgba(16,185,129,0.45); }

/* ── Button base ── */
.tm-btn {
  transition: transform 0.15s ease, box-shadow 0.15s ease, background 0.15s ease, opacity 0.15s ease;
  outline: none;
  -webkit-tap-highlight-color: transparent;
}
.tm-btn:hover:not(:disabled) {
  transform: translateY(-1px);
}
.tm-btn:active:not(:disabled) {
  transform: translateY(0) scale(0.97);
}
.tm-btn:disabled {
  pointer-events: none;
}

/* ── Task node ── */
.tm-node {
  transition:
    box-shadow 0.2s ease,
    border-color 0.2s ease,
    transform 0.1s ease;
  will-change: transform, box-shadow;
}
.tm-node:hover {
  transform: translateY(-2px);
  box-shadow:
    0 8px 32px rgba(16,185,129,0.18),
    0 2px 8px rgba(0,0,0,0.08),
    0 0 0 1px rgba(16,185,129,0.12);
}
.tm-node.tm-selected {
  animation: tmGlow 2.4s ease-in-out infinite;
}
.tm-child-node:hover {
  transform: translateY(-1.5px);
  box-shadow:
    0 5px 18px rgba(16,185,129,0.12),
    0 1px 4px rgba(0,0,0,0.06);
}

/* ── Brain node ── */
.tm-brain-node {
  transition:
    box-shadow 0.2s ease,
    border-color 0.2s ease,
    transform 0.12s ease;
  will-change: transform, box-shadow;
}
.tm-brain-node:hover {
  transform: translateY(-2.5px) scale(1.02);
}
.tm-node-new {
  animation: tmNodeIn 0.4s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

/* ── Sidebar focus: dar destaque visual ao canvas quando sidebar expandida ── */
.sidebar-expanded ~ #canvas-wrapper {
  box-shadow: inset 8px 0 24px rgba(0,0,0,0.04);
}

/* ── Animations ── */
@keyframes tmBlink {
  0%, 100% { opacity: 1; }
  50%       { opacity: 0; }
}

@keyframes tmFloat {
  0%, 100% { transform: translateY(0px) rotate(0deg); }
  33%       { transform: translateY(-14px) rotate(0.8deg); }
  66%       { transform: translateY(-6px) rotate(-0.5deg); }
}

@keyframes tmFadeUp {
  from { opacity: 0; transform: translateY(14px); }
  to   { opacity: 1; transform: translateY(0); }
}

@keyframes tmScaleIn {
  from { opacity: 0; transform: scale(0.88) translateY(10px); }
  to   { opacity: 1; transform: scale(1) translateY(0); }
}

@keyframes tmNodeIn {
  from { opacity: 0; transform: scale(0.72) translateY(12px); }
  to   { opacity: 1; transform: scale(1) translateY(0); }
}

@keyframes tmPulse {
  0%, 100% { opacity: 1; transform: scale(1); }
  50%       { opacity: 0.5; transform: scale(0.92); }
}

@keyframes tmSpin {
  from { transform: rotate(0deg); }
  to   { transform: rotate(360deg); }
}

@keyframes tmGlow {
  0%, 100% { box-shadow: 0 0 0 2.5px rgba(16,185,129,0.50), 0 8px 32px rgba(16,185,129,0.22); }
  50%       { box-shadow: 0 0 0 4px rgba(16,185,129,0.70), 0 12px 42px rgba(16,185,129,0.35); }
}

@keyframes tmBrainPulse {
  0%, 100% { filter: drop-shadow(0 0 4px rgba(16,185,129,0.3)); }
  50%       { filter: drop-shadow(0 0 12px rgba(16,185,129,0.7)); }
}

@keyframes tmSlideIn {
  from { opacity: 0; transform: translateX(-18px); }
  to   { opacity: 1; transform: translateX(0); }
}

/* ── Focus ring ── */
:focus-visible {
  outline: 2px solid rgba(16,185,129,0.55);
  outline-offset: 2px;
  border-radius: 6px;
}

/* ── Selection ── */
::selection {
  background: rgba(16,185,129,0.22);
  color: inherit;
}

/* ── Inputs ── */
input, textarea {
  font-family: 'DM Sans', sans-serif;
}

input::placeholder, textarea::placeholder {
  color: var(--text-muted);
  font-weight: 400;
}

/* ── Links ── */
a {
  color: inherit;
  text-decoration: none;
}

/* ── React root full height ── */
#root {
  isolation: isolate;
}

/* ── Mobile tweaks ── */
@media (max-width: 640px) {
  .tm-btn span { display: none; }
}
